= EDIFACT D01B DESADV
Competec Service AG
:doctype: book
v1.1, 25-09-2024

[preface]
== Preface

This document describes the implementation of Opentrans V2.1 for supplier delivery notes / dispatch notification.

=== Changelog
.changelog
[width="100%",cols="1,1,2,1",options="header",]
|===
|*Version* |*Date*     |*Change*           |*Author*
| 1.0      |11.07.2024 |Initial definition |SEBR
| 1.1      |24.07.2024 |Corrections        |DAO
|===

=== Status Codes
.status codes
[width="100%",cols="1,4",options="header",]
|===
|*Code* |*Description*
| M     |Mandatory D01B Field
| C     |Conditional D01B Field
|===


=== Colors Codes
.color codes
[width="100%",cols="1,4",options="header",]
|===
|*Color* |*Description*
|{set:cellbgcolor:#CC6633}  orange | Mandatory Competec Field
|{set:cellbgcolor:#FFF}  white  | Conditional Competec Field
|{set:cellbgcolor:#999}  grey   | Field not used by Competec
|===

=== References

https://unece.org/trade/uncefact/introducing-unedifact

https://www.stylusstudio.com/edifact/D01B/DESADV.htm

<<<

== Supplier Despatch Advice Message


Head Section

[width="100%",cols="9%,20%,25%,9%,17%,20%",options="header",]
|===
|*UNB \| Interchange Header* | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |S001 |SYNTAX IDENTIFIER |M | |
| |0001 |Syntax identifier |M |+UNOC |
| |0002 |Syntax version number |M |:3 a|
*_Supported codes:_*

3, 4

|020 |S002 |INTERCHANGE SENDER |M | |
| |0004 |Interchange sender identification |M |+7600000… |Sender Party GLN
| |0007 |Identification code qualifier |C |:14 |14 = EAN International
|030 |S003 |INTERCHANGE RECIPIENT |M | |
| |0010 |Interchange recipient identification |M |+7600000… |Receiver Party GLN
| |0007 |Identification code qualifier |C |:14 |14 = EAN International
|040 |S004 |DATE AND TIME OF PREPARATION |M | |
| |0017 |Date |M |+240313 |yyMMdd
| |0019 |Time |M |:2214 |HHmm
|050 |0020 |Interchange control reference |M |+123' |
|060 |S005 |RECIPIENT'S REFERENCE/PASSWORD DETAILS |C | |Not in use
|070 |0026 |Application reference |C | |Not in use
|080 |0029 |Processing priority code |C | |Not in use
|090 |0031 |Acknowledgement request |C | |Not in use
|100 |0032 |Interchange agreement identifier |C | |Not in use
|110 |0035 |Test indicator |C |+1 |1 = Test
|===

*Example:*

UNB+UNOC:3+7630000000000:14+7630000000001:14+240313:2214+123++DESADV++++1'

[width="100%",cols="9%,21%,27%,8%,20%,15%",options="header",]
|===
|*0010 \| Segment \| UNH \| Message Header* | | | | |
|A service segment starting and uniquely identifying a message. The message type code for the Despatch advice message is DESADV. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |0062 |MESSAGE REFERENCE NUMBER |M |+1 |
|020 |S009 |MESSAGE IDENTIFIER |M | |
| |0065 |Message type |M |+DESADV |
| |0052 |Message version number |M |:D |
| |0054 |Message release number |M |:01B |
| |0051 |Controlling agency, coded |M |:UN |
| |0057 |Association assigned code |C | |optional
| |… | |C | |Not in use
|===

*Example:*

UNH+1+DESADV:D:01B:UN'

[width="100%",cols="8%,28%,24%,8%,13%,19%",options="header",]
|===
|*0020 \| Segment \| BGM \| Beginning of message* | | | | |
|A segment for unique identification of the Despatch Advice document, by means of its name and its number. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |C002 |DOCUMENT/MESSAGE NAME |C | |
| |1001 |Document name code |C |+351 a|
*_Supported codes:_*

351 = Despatch advice

| |… | |C | |Not in use
|020 |1004 |Document identifier |C |+DN123456 |Despatch advice nbr.
|030 |1225 |Message function, coded |C |+9 a|
*_Supported codes:_*

9 = Original

|040 |4343 |Response type, coded |C | |Not in use
|===

*Example:*

BGM+351+DN123456+9'

[width="100%",cols="9%,20%,21%,10%,14%,26%",options="header",]
|===
|*0030 \| DTM \| Date/time/period* | | | | |
|A segment specifying general dates and, when relevant, times related to the whole message. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |C507 |DATE/TIME/PERIOD |M | |
| |2005 |Date/time/period qualifier |M |+17 a|
*_Supported codes:_*

137 = Document date

17 = Delivery Date estimated

| |2380 |Date/time/period |C |:20240229 |
| |2379 |Date/time/period format qualifier |C |:102 a|
*_Supported codes:_*

102 = CCYYMMDD

|===

*Example*:

DTM+137:20240313:102

DTM+17:20240229:102

[width="100%",cols="9%,20%,21%,10%,14%,26%",options="header",]
|===
|*0040 \| ALI \| Additional information* | | | | |
|A segment indicating that the message is subject to special conditions due to origin, customs preference or commercial factors. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |3239 |Country of origin name code |C | |
| |9213 |Duty regime type code |C | |
| |4183 |Special condition code |C |+148 a|
*Supported codes:*

148 = Supply direct delivery (marks diect deliveries, not required for warehouse deliveries)

|===

*Example*:

ALI+++148'

[width="100%",cols="100%",options="header",]
|===
|*0080 \| Segment Group 1 \| References and Dates*
|A group of segments for giving references and where necessary, their dates, relating to the whole message.
|===

[width="100%",cols="26%,25%,25%,24%",options="header",]
|===
|*SG1 Used Segment List* | | |
|*Pos* |*Tag* |*Name* |
|0090 |RFF |Reference |
|0100 |DTM |Date/time/period |
|===

[width="100%",cols="9%,28%,13%,8%,18%,24%",options="header",]
|===
|*0090 \| Segment \| RFF \| Reference* | | | | |
|A segment to specify a reference by its number. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |C506 |REFERENCE |M | |
| |1153 |Reference qualifier |M |+ON a|
*_Supported codes:_*

ON = Order number

CN = Carrier's reference number (dropshipment)

| |1154 |Reference number |C |:1990845089' |Competec Order number (ON), Consignment/package number for tracking purposes (CN)
| |… | | | |Not in use
|===

*Example:*

RFF+ON:1990845089'

RFF+CN:99.9999.9999.99'

[width="99%",cols="9%,20%,30%,8%,12%,21%",options="header",]
|===
|*0100 \| Segment \| DTM \| Date/time/period* | | | | |
|A segment specifying the date/time related to the reference. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |C507 |DATE/TIME/PERIOD |M | |
| |2005 |Date/time/period qualifier |M |+171 a|
*_Supported codes:_*

171 = Reference date/time

| |2380 |Date/time/period |C |:20240228 |
| |2379 |Date/time/period format qualifier |C |:102 a|
*_Supported codes:_*

102 = CCYYMMDD

|===

*Example:*

DTM+171:20240228:102'* +
*

[width="100%",cols="100%",options="header",]
|===
|*0110 \| Segment Group 2 \| Parties*
|A group of segments identifying the parties with associated information.
|===

[width="99%",cols="26%,25%,35%,14%",options="header",]
|===
|*SG2 Used Segment List* | | |
|*Pos* |*Tag* |*Name* |
|0120 |NAD |Name (& Address) |
|===

[width="100%",cols="9%,20%,20%,8%,14%,29%",options="header",]
|===
|*0120 \| Segment \| NAD \| Name and address* | | | | |
|A segment identifying names and addresses of the parties and their functions relevant to the despatch advice. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |3035 |Party qualifier |M |+UC a|
*_Supported codes:_*

BY = Buyer

SU = Supplier

DP = Delivery party

(warehouse deliveries)

UC = Ultimate consignee (dropshipment deliveries)

|020 |C082 |PARTY IDENTIFICATION DETAILS |C | |
| |3039 a|
Party

identification

|M |+760999… |Not required for UC party
|030 |C058 |NAME AND ADDRESS |C | |Not in use
|040 |C080 |PARTY NAME |C | |
| |3036 |Party name |M |+Frau |Address name 1
| |3036 |Party name |C |:Cornelia Muster |Address name 2
|050 |C059 |STREET |C | |
| |3042 |Street and number/p.o. box |M |+Streetname 1 |Street name 1
| |3042 |Street and number/p.o. box |C |:Building 10b |Street name 2
|060 |3164 |City name |C |+Zürich |
|070 |3229 |Country sub-entity identification |C | |Not in use
|080 |3251 |Postcode identification |C |+8005 |PLZ
|090 |3207 |Country, coded |C |+CH |
|===

*Example (dropshipment):*

NAD+BY+7630000000001::9'

NAD+SU+7630000000000::9'

NAD+UC+++Cornelia Muster+ Streetname 1:Building 10b+Zürich++8005+CH'

*Example (warehouse):*

NAD+BY+7630000000001::9'

NAD+SU+7630000000000::9'

NAD+DP+7609999129308::9++Alltron AG+Street 10+Willisau Competec++6131+CH'

[width="100%",cols="100%",options="header",]
|===
|*0240 \| Segment Group 6 \| Details of transport*
|A group of segments specifying details of the mode, means and method of transport and date/time of departure and destination relevant to the whole despatch advice.
|===

[width="99%",cols="26%,25%,35%,14%",options="header",]
|===
|*SG6 Used Segment List* | | |
|*Pos* |*Tag* |*Name* |
|0250 |TDT |Details of transport |
|===

[width="99%",cols="9%,19%,17%,8%,18%,29%",options="header",]
|===
|*0250 \| Segment \| TDT \| Details of transport* | | | | |
|A segment specifying the carriage, and the mode and means of transport of the goods being despatched. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |8051 |Transport stage code qualifier |M |+20 |20 = Main-carriage transport
|020 |8028 |Means of transport journey identifier |C | |Not in use
|030 |C220 |MODE OF TRANSPORT |C | |
| |8067 |Transport mode name code |C |+50 a|
30 = Road transport

50 = Mail

100 = Courier service

|040 |C228 |TRANSPORT MEANS |C | |Not in use
|050 |C040 |CARRIER |C | |
| |3127 |Carrier identifier |M |+7611550000001 |GLN of Carrier/Forwarding Agent
| |1131 |Code list identification code |C |: |Street name 2
| |3055 |Code list responsible agency code |C |:9 |9 = EAN (International Article Numbering association)
| |3128 |Carrier name |C |:Post CH AG |
| |… | | | |
|080 |C222 |TRANSPORT IDENTIFICATION |C | |
| |… | | | |
| |8212 |Transport means identification name |C |:BL 123456 |Vehicle licence plate
|===

*Example (dropshipment):*

TDT+20++50++7611550000001::9:Post CH AG'

*Example (warehouse):*

TDT+20++30++7611550000002::9:Müller Transport+++:::BL 123456'

Detail Section

[width="100%",cols="100%",options="header",]
|===
|*0390 \| Segment Group 10 \| Consignment packing sequence*
|A group of segments providing details of all package levels and of the individual despatched items contained in the consignment.
|===

[width="99%",cols="16%,10%,25%,35%,14%",options="header",]
|===
|*SG10 Used Segment List* | | | |
|*Pos* | |*Tag* |*Name* |
|0400 | |CPS |Consignment packing sequence |
| | | | |
|===

[width="99%",cols="11%,23%,21%,8%,16%,21%",options="header",]
|===
|*0400 \| Segment \| CPS \| Consignment packing sequence* | | | | |
|A segment identifying the sequence in which packing of the consignment occurs, e.g. boxes loaded onto a pallet. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |7164 |Hirarchical Structure level ident. |M |1 |
|020 |7166 |Hirarchical Structure parent ident. |C | |
|030 |7075 |Packaging level code |C | |
|===

*Example*:

CPS+1'

[width="100%",cols="100%",options="header",]
|===
|*0650 \| Segment Group 17 \| Lines*
|A segment identifying the product being despatched.
|===

[width="99%",cols="26%,25%,35%,14%",options="header",]
|===
|*SG17 Used Segment List* | | |
|*Pos* |*Tag* |*Name* |
|0660 |LIN |Line item |
|0670 |PIA |Additional product id |
|0680 |IMD |Item description |
|0700 |QTY |Quantity |
|SG18 |RFF |Reference |
|===

[width="100%",cols="10%,20%,22%,8%,19%,21%",options="header",]
|===
|*0660 \| Segment \| LIN \| Line item* | | | | |
|A segment identifying the product being despatched | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |1082 |Line item number |C |+1 |
|020 |1229 |Action request/notification, coded |C | |Not used
|030 |C212 |ITEM NUMBER IDENTIFICATION |C | |
| |7140 |Item number |C |+9120072855368 |EAN
| |7143 |Item number type, coded |C |:EN a|
*_Supported codes:_*

EN = International Article Numbering Association (EAN)

SRV = EAN.UCC Global Trade Item Number

|040 |C829 |SUB-LINE INFORMATION |C | |Not used
|050 |1222 |Configuration level |C | |Not used
|060 |7083 |Configuration, coded |C | |Not used
|===

*Example*:

LIN+1++0197497400854:SRV'

[width="100%",cols="10%,20%,21%,8%,16%,25%",options="header",]
|===
|*0670 \| Segment \| PIA \| Additional product id* | | | | |
|A segment providing either additional identification to the product specified in the LIN segment. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |4347 |Product id. function qualifier |M |+1 a|
*_Supported codes:_*

1 = Additional identification

5 = Product identification

|020 |C212 |ITEM NUMBER IDENTIFICATION |M | |
| |7140 |Item number |C |+1567285 |Competec item number
| |7143 |Item number type, coded |C |:IN a|
*_Supported codes:_*

IN = Buyer's item number

|030 |C212 |ITEM NUMBER IDENTIFICATION |C | |Not used
|040 |C212 |ITEM NUMBER IDENTIFICATION |C | |Not used
|050 |C212 |ITEM NUMBER IDENTIFICATION |C | |Not used
|060 |C212 |ITEM NUMBER IDENTIFICATION |C | |Not used
|===

*Example:*

PIA+5+1567285:IN'

[width="100%",cols="10%,23%,19%,8%,19%,21%",options="header",]
|===
|*0680 \| Segment \| IMD \| Item description* | | | | |
|A segment for describing the product or service being ordered. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |7077 |Item description type, coded |C |+F a|
*_Supported codes:_*

A = Free-form long description

F = Free form

|020 |7081 |Item characteristic, coded |C | |Not in use
|030 |C273 |ITEM DESCRIPTION |C | |
| |… | | | |Not in use
| |7008 |Item description |C |:Buttergipfel |First 35 description chars
| |7008 |Item description |C |:ExtraKnusprig |Second 35 description chars (descriptions longer than 70 chars will be trimmed)
|040 |7383 |Surface/layer indicator, coded |C | |Not in use
|===

*Example*:

IMD+F++:::ELITEBOOK 845 G10 R5-7540U'

IMD+F++:::PRO X360 435 G10 R3-7330U:Second Line Text'

[width="100%",cols="10%,23%,19%,8%,19%,21%",options="header",]
|===
|*700 \| Segment \| QTY \| Quantity* | | | | |
|A segment identifying the despatched quantity. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |C186 |QUANTITY DETAILS |M | |
| |6063 |Quantity qualifier |M |+12 a|
*_Supported codes:_*

12 = dispatched quantity

| |6060 |Quantity |M |:2 |Only integer values supported
| |6411 |Measure unit qualifier |C |:PCE a|
*_Supported codes:_*

PCE = Piece

|===

*Example*:

QTY+12:2:PCE'

[width="100%",cols="100%",options="header",]
|===
|*0820 \| Segment Group 18 \| Line References and Dates*
|A group of segments for giving references and where necessary, their dates, relating to the whole message.
|===

[width="100%",cols="26%,25%,25%,24%",options="header",]
|===
|*SG1 Used Segment List* | | |
|*Pos* |*Tag* |*Name* |
|0830 |RFF |Reference |
|===

[width="100%",cols="10%,27%,13%,8%,18%,24%",options="header",]
|===
|*0830 \| Segment \| RFF \| Reference* | | | | |
|A segment identifying documents related to the line item. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |C506 |REFERENCE |M | |
| |1153 |Reference qualifier |M |+LI a|
*_Supported codes:_*

LI = Line item reference number

| |1154 |Reference number |C |:1000 |Competec order line number
| |… | | | |Not in use
|===

*Example:*

RFF+LI:1000'

Summary section

[width="100%",cols="10%,23%,19%,8%,19%,21%",options="header",]
|===
|*1150 \| Segment \| UNT \| Message trailer* | | | | |
|A service segment ending a message, giving the total number of segments in the message and the control reference number of the message. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |0074 |Number of segments in a message |M |+21 |
|020 |0062 |Message reference number |M |+1 |Message reference number from UNH segment
|===

*Example*:

UNT+21+1

[width="100%",cols="10%,23%,19%,8%,19%,21%",options="header",]
|===
|*UNZ \| Interchange trailer* | | | | |
|To end and check the completeness of an interchange. | | | | |
|*Pos* |*Segment/Element* |*Description* |*Status* |*Example* |*Remarks*
|010 |0036 |Interchange control count |M |+1 |
|020 |0020 |Interchange control reference |M |+123 |Interchange control reference from UNB segment
|===

*Example*:

UNZ+1+10

Example DESADV Message (warehouse delivery)

[width="100%",cols="^6%,85%,9%",options="header",]
|===
a|
____
Header
____

|UNA:+.? ' |
| |UNB+UNOC:3+7630000000000:14+7630000000001:14+240313:2214+123++DESADV++++1' |
| |UNH+1+DESADV:D:01B:UN' |
| |BGM+351+DN123456+9' |
| a|
DTM+137:20240313:102'

DTM+17:20240229:102'

|
| |RFF+ON:1990845089' |SG1
| |DTM+171:20240228:102' |
| a|
NAD+BY+7630000000001::9'

NAD+SU+7630000000000::9'

NAD+DP+7609999129308::9++Alltron AG+Street 10+Willisau Competec++6131+CH'

|SG2
| |TDT+20++30++7611550000002::9:Müller Transport+++:::BL 123456' |SG06
a|
____
Detail
____

|CPS+1' |SG10
| a|
LIN+1++0197497400854:SRV'

PIA+5+1567285:IN'

IMD+A++:::PRO X360 435 G10 R3-7330U:Second Line Text'

QTY+12:2:PCE'

RFF+LI:1000'

|SG17
| a|
LIN+2++0197497651164:SRV'

PIA+5+1567326:IN'

IMD+A++:::ELITEBOOK 845 G10 R5-7540U'

QTY+12:2:PCE'

RFF+LI:2000'

|SG17
a|
____
Summary
____

|UNT+24+1' +
UNZ+1+123 |
|===

Example DESADV Message (dropshipment delivery)

[width="100%",cols="^6%,85%,9%",options="header",]
|===
a|
____
Header
____

|UNA:+.? ' |
| |UNB+UNOC:3+7630000000000:14+7630000000001:14+240313:2214+123++DESADV++++1' |
| |UNH+1+DESADV:D:01B:UN' |
| |BGM+351+DN123456+9' |
| a|
DTM+137:20240313:102'

DTM+17:20240229:102'

|
| |ALI+++148' |
| a|
RFF+CN:99.9999.9999.99'

RFF+ON:1990845089'

|SG1
| |DTM+171:20240228:102' |
| a|
NAD+BY+7630000000001::9'

NAD+SU+7630000000000::9'

NAD+UC+++Frau:Cornelia Muster+ Streetname 1:Building 10b+Zürich++8005+CH

|SG2
| |TDT+20++50++7611550000001::9:Post CH AG' |SG06
a|
____
Detail
____

|CPS+1' |SG10
| a|
LIN+1++0197497400854:SRV'

PIA+5+1567285:IN'

IMD+A++:::PRO X360 435 G10 R3-7330U:Second Line Text'

QTY+12:2:PCE'

RFF+LI:1000'

|SG17
| a|
LIN+2++0197497651164:SRV'

PIA+5+1567326:IN'

IMD+A++:::ELITEBOOK 845 G10 R5-7540U'

QTY+12:2:PCE'

RFF+LI:2000'

|SG17
a|
____
Summary
____

|UNT+24+1' +
UNZ+1+123 |
|===
